language: scala

sudo: false

scala:
- 2.12.7
- 2.11.12
- 2.13.0-M5

jdk:
  - oraclejdk8

matrix:
  include:
  - jdk: openjdk11
    scala: 2.12.7

addons:
  apt:
    packages:
    - oracle-java8-installer

script:
  - sbt "++${TRAVIS_SCALA_VERSION}!" compile test:compile test $(if [[ "${TRAVIS_REPO_SLUG}" == "xuwei-k/play2scalaz" && "${TRAVIS_PULL_REQUEST}" == "false" && "${TRAVIS_BRANCH}" == "master" ]]; then echo "publish"; fi)

env:
  global:
  - secure: "BIiG8I0jmEKzIbGADb5YNwKO7sX+hzrnQV/eeTAZGzb0TWJdb4gnO504Vd+3bVOl/ATBmqlSS9NYMGl/biMthAUS9W865zNGpKAlJiTu/i5LxLNZHz5YjLO0qadoOLC7fPgu2bX/q1I78yGj7hmo+gYHQdyOHlReoH5XwbOZIYD5xTa7He8vCcDiX/dAfVTs02RZWWJjwroMEPl/dmrZDxbGMzhkGkDJq+M8g7uB0+Ha/2dOmf1wTPEutKAx9eOu2MHyUfkE/sBxZgbwRPshbosW65eU+dduEj3oyDkq5G/RUsdXAY9HSsZZJRrxK/vqm1VFasIMQQbaibdrGcEDeFj8hVFAKj1Y8Iu/UdJadNzkaFPltN921lowa+TQVBVoaQ4sOvgVx6SqsfKzKdMEON/rHp1pMSGLy+lvlLetn+p3kz66kZ1lwnpSy+jcohLhfzelCeuW01a1FAjOBgeCCS9FlVf82wS+pFKAI/+3oCdY62tOS9l181TpJVJ3bm+LF5eB9Sy8y32Uif2pWc51IGoeZ3Fm9d55himVx5dg+gAOaiXO4SGRCK5wSEfOHBq7viw5mQjYsEB3qWpNpacxGddAz+QXCRmTSLSWebIGa1LpLUDw8LoV82ikk6auOvaI5OivFTZnDm2ASXv8D2l9C5MuVysMeI7zy+5SzSgNov4="
  - secure: "MSyiK/6XD6rt76lbjAKgaEn5u34HAUxYVJzP/mI0FJle8f7Vm/ZDihcMm5DK57XcN2rQI/BvBFYKVegpkqb0wNXVY05sS3zw6AaQInapILONPkgWviUmvRnPqG4IP4x8JUNc5MNt1ohSOt7lXvAhTc3UDvMczKUQ18jdo9/JecadoHfxxw4ns2JDsivx08sda8Z0lYZk2iDxZ0/Y5/CQdDphufhb7uG6+F9uRPeTtfTLe/EtP7MkbuQ1XEG8VpSeYWZ/XKOw+TKxRN5NGzszgHQ8iW8a3C+2QXuN0Kld/NWyH23n6f+XT+x7KBhVSUJ3zB/sTHZTZpgrr80WubWa4D9MDRyZXteOUYjx5G2OyPqWmVDmIkubMYgvY9N/powXlAwXmSvAbi7JDU+Z+cZ9AVww7gVoHaUlc5YMVbN1lNCkWJPN1fcj//9wvNWFR/j7DbbHacnCns7WOyT8lpPteO78Rjmg9vmxdM6D07WKDCEDNfzF/FDzYTLmNKf+mNx1agBPoimdi9cy3U9FV+EmYz7d6ONv3aaeVImXaFwdUWC5ulJDuYsmTRMesPqbPIwVqS8Tiiu1SMX5C68OmfRhCKC4ulMdgaYzyCtvF++o0G3Hae077htVQQbOhi2iwNsm2yv7nYyiIITdjqbRBadiGfPWtOiZ8P1wTmw7Hu1sOY4="

cache:
  directories:
  - $HOME/.ivy2/cache
  - $HOME/.sbt/launchers

before_cache:
- find $HOME/.ivy2/cache -name "ivydata-*.properties" | xargs rm
- find $HOME/.ivy2/cache -name "*SNAPSHOT*" | xargs rm -rf
